<header class="wrapper">
  <nav
    class="navbar navbar-expand-lg transparent position-absolute navbar-light"
  >
    <div class="container flex-lg-row flex-nowrap align-items-center">
      <div class="navbar-brand w-100">
        <div class="header-logos">
          @if (mainLogoUrl) {
            <a
              href="https://www.serto-bel.hr"
              class="main-logo"
              (click)="isMenuCollapsed = true"
            >
              <img
                ngSrc="{{ mainLogoUrl }}"
                alt="logo"
                height="50"
                width="200"
                priority
              />
            </a>
          }
        </div>
      </div>
      <div
        class="navbar-collapse offcanvas offcanvas-nav offcanvas-start"
        [ngbCollapse]="isMenuCollapsed"
      >
        <div class="offcanvas-header d-lg-none">
          <div class="header-logos">
            @if (mainLogoUrl) {
              <a
                href="https://www.serto-bel.hr"
                class="main-logo"
                (click)="isMenuCollapsed = true"
              >
                <img
                  ngSrc="{{ mainLogoUrl }}"
                  alt="logo"
                  height="50"
                  width="200"
                  priority
                />
              </a>
            }
          </div>
          <button
            type="button"
            class="btn"
            data-bs-dismiss="offcanvas"
            aria-label="Close"
            (click)="isMenuCollapsed = true"
          >
            <svg
              class="icon close-icon"
              viewBox="0 0 32 32"
              style="width: 15px"
            >
              <path
                fill="#fff"
                d="M31.708 25.708c-0-0-0-0-0-0l-9.708-9.708 9.708-9.708c0-0 0-0 0-0 0.105-0.105 0.18-0.227 0.229-0.357 0.133-0.356 0.057-0.771-0.229-1.057l-4.586-4.586c-0.286-0.286-0.702-0.361-1.057-0.229-0.13 0.048-0.252 0.124-0.357 0.228 0 0-0 0-0 0l-9.708 9.708-9.708-9.708c-0-0-0-0-0-0-0.105-0.104-0.227-0.18-0.357-0.228-0.356-0.133-0.771-0.057-1.057 0.229l-4.586 4.586c-0.286 0.286-0.361 0.702-0.229 1.057 0.049 0.13 0.124 0.252 0.229 0.357 0 0 0 0 0 0l9.708 9.708-9.708 9.708c-0 0-0 0-0 0-0.104 0.105-0.18 0.227-0.229 0.357-0.133 0.355-0.057 0.771 0.229 1.057l4.586 4.586c0.286 0.286 0.702 0.361 1.057 0.229 0.13-0.049 0.252-0.124 0.357-0.229 0-0 0-0 0-0l9.708-9.708 9.708 9.708c0 0 0 0 0 0 0.105 0.105 0.227 0.18 0.357 0.229 0.356 0.133 0.771 0.057 1.057-0.229l4.586-4.586c0.286-0.286 0.362-0.702 0.229-1.057-0.049-0.13-0.124-0.252-0.229-0.357z"
              ></path>
            </svg>
          </button>
        </div>
        @if (data$ | async; as data) {
          <div class="offcanvas-body ms-lg-auto d-flex flex-column h-100">
            <ul class="navbar-nav">
              <li class="nav-item">
                <a
                  [routerLink]="['/']"
                  class="nav-link"
                  (click)="isMenuCollapsed = true"
                >
                  {{ data.data?.attributes?.homepageLabel }}
                </a>
              </li>
              <li class="nav-item">
                <a
                  [routerLink]="['about-us']"
                  class="nav-link"
                  (click)="isMenuCollapsed = true"
                  >{{ data.data?.attributes?.aboutUsLabel }}</a
                >
              </li>
              <li class="nav-item dropdown dropdown-mega">
                <a
                  class="nav-link dropdown-toggle"
                  [routerLink]="['services']"
                  data-bs-toggle="dropdown"
                  >{{ data.data?.attributes?.servicesLabel }}</a
                >
                <ul class="dropdown-menu mega-menu">
                  <li class="mega-menu-content">
                    <div class="row gx-0 gx-lg-3">
                      <div class="col-lg-4">
                        <h6 class="dropdown-header">
                          {{ data.data?.attributes?.laserCuttingOfSheetsLabel }}
                        </h6>
                        <div class="row gx-0">
                          <div class="col-lg-12">
                            <ul class="list-unstyled">
                              <li>
                                <a
                                  class="dropdown-item"
                                  [routerLink]="['laser-cutting-of-sheets']"
                                  (click)="isMenuCollapsed = true"
                                  >{{
                                    data.data?.attributes
                                      ?.laserCuttingOfSheetsLabel
                                  }}</a
                                >
                              </li>
                              <li>
                                <a
                                  class="dropdown-item"
                                  [routerLink]="['prima']"
                                  (click)="isMenuCollapsed = true"
                                  >{{ data.data?.attributes?.primaLabel }}</a
                                >
                              </li>
                              <li>
                                <a
                                  class="dropdown-item"
                                  [routerLink]="['bystronic']"
                                  (click)="isMenuCollapsed = true"
                                  >{{
                                    data.data?.attributes?.bystronicLabel
                                  }}</a
                                >
                              </li>
                            </ul>
                          </div>
                        </div>
                      </div>
                      <div class="col-lg-4">
                        <h6 class="dropdown-header">
                          {{ data.data?.attributes?.laserCuttingOfPipesLabel }}
                        </h6>
                        <ul class="list-unstyled">
                          <li>
                            <a
                              class="dropdown-item"
                              [routerLink]="['laser-cutting-of-pipes']"
                              (click)="isMenuCollapsed = true"
                              >{{
                                data.data?.attributes?.laserCuttingOfPipesLabel
                              }}</a
                            >
                          </li>
                          <li>
                            <a
                              class="dropdown-item"
                              [routerLink]="['blm']"
                              (click)="isMenuCollapsed = true"
                              >{{ data.data?.attributes?.blmLabel }}</a
                            >
                          </li>
                          <li>
                            <a
                              class="dropdown-item"
                              [routerLink]="['blm-software']"
                              (click)="isMenuCollapsed = true"
                              >{{ data.data?.attributes?.blmSoftwareLabel }}</a
                            >
                          </li>
                        </ul>
                      </div>
                      <div class="col-lg-4">
                        <h6 class="dropdown-header">
                          {{ data.data?.attributes?.bendingLabel }}
                        </h6>
                        <ul class="list-unstyled">
                          <li>
                            <a
                              class="dropdown-item"
                              [routerLink]="['bending-of-sheets']"
                              (click)="isMenuCollapsed = true"
                              >{{ data.data?.attributes?.bendingLabel }}</a
                            >
                          </li>
                        </ul>
                      </div>
                    </div>
                  </li>
                </ul>
              </li>
              <li class="nav-item">
                <a
                  class="nav-link"
                  routerLink="gallery"
                  (click)="isMenuCollapsed = true"
                  >{{ data.data?.attributes?.galleryLabel }}</a
                >
              </li>
              <li class="nav-item">
                <a
                  class="nav-link"
                  routerLink="contact-us"
                  (click)="isMenuCollapsed = true"
                  >{{ data.data?.attributes?.contactUsLabel }}</a
                >
              </li>
              <li class="nav-item">
                <a
                  class="nav-link"
                  routerLink="faq"
                  (click)="isMenuCollapsed = true"
                  >{{ data.data?.attributes?.faqLabel }}</a
                >
              </li>
              <li class="nav-item">
                <a
                  class="nav-link"
                  routerLink="careers"
                  (click)="isMenuCollapsed = true"
                  >{{ data.data?.attributes?.careersLabel }}</a
                >
              </li>
            </ul>
          </div>
        }
      </div>
      <!-- /.navbar-collapse -->
      <div class="navbar-other w-100 d-flex ms-auto">
        <ul class="navbar-nav flex-row align-items-center ms-auto">
          <li class="nav-item dropdown language-select text-uppercase">
            <div class="language-selector">
              <select
                #selectLang
                (change)="setPageLanguage(selectLang.value)"
                aria-label="select language"
              >
                @for (lang of availableLangs; track lang) {
                  <option [value]="lang" [selected]="lang === selectedLang">
                    {{ lang }}
                  </option>
                }
              </select>
            </div>
          </li>
          <li class="nav-item d-lg-none">
            <button
              class="hamburger offcanvas-nav-btn"
              (click)="isMenuCollapsed = !isMenuCollapsed"
            >
              <span></span>
            </button>
          </li>
        </ul>
        <!-- /.navbar-nav -->
      </div>
    </div>
  </nav>
</header>
